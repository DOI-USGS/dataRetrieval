<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Construct NWIS url for data retrieval — constructNWISURL • dataRetrieval</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Construct NWIS url for data retrieval — constructNWISURL" />

<meta property="og:description" content="Imports data from NWIS web service. This function gets the data from here: https://nwis.waterdata.usgs.gov/nwis/qwdata
A list of parameter codes can be found here: https://nwis.waterdata.usgs.gov/nwis/pmcodes/
A list of statistic codes can be found here: https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;amp;format=table" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53797708-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53797708-7');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dataRetrieval</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.7.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/dataRetrieval.html">Background</a>
</li>
<li>
  <a href="../reference/index.html">Function Help</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USGS-R/dataRetrieval">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct NWIS url for data retrieval</h1>
    
    <div class="hidden name"><code>constructNWISURL.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Imports data from NWIS web service. This function gets the data from here: <a href='https://nwis.waterdata.usgs.gov/nwis/qwdata'>https://nwis.waterdata.usgs.gov/nwis/qwdata</a>
A list of parameter codes can be found here: <a href='https://nwis.waterdata.usgs.gov/nwis/pmcodes/'>https://nwis.waterdata.usgs.gov/nwis/pmcodes/</a>
A list of statistic codes can be found here: <a href='https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table'>https://nwis.waterdata.usgs.gov/nwis/help/?read_file=stat&amp;format=table</a></p>
    
    </div>

    <pre class="usage"><span class='fu'>constructNWISURL</span>(<span class='no'>siteNumbers</span>, <span class='kw'>parameterCd</span> <span class='kw'>=</span> <span class='st'>"00060"</span>, <span class='kw'>startDate</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>endDate</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='no'>service</span>, <span class='kw'>statCd</span> <span class='kw'>=</span> <span class='st'>"00003"</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"xml"</span>,
  <span class='kw'>expanded</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>ratingType</span> <span class='kw'>=</span> <span class='st'>"base"</span>, <span class='kw'>statReportType</span> <span class='kw'>=</span> <span class='st'>"daily"</span>,
  <span class='kw'>statType</span> <span class='kw'>=</span> <span class='st'>"mean"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>siteNumbers</th>
      <td><p>string or vector of strings USGS site number.  This is usually an 8 digit number</p></td>
    </tr>
    <tr>
      <th>parameterCd</th>
      <td><p>string or vector of USGS parameter code.  This is usually an 5 digit number.</p></td>
    </tr>
    <tr>
      <th>startDate</th>
      <td><p>character starting date for data retrieval in the form YYYY-MM-DD. Default is "" which indicates
retrieval for the earliest possible record.</p></td>
    </tr>
    <tr>
      <th>endDate</th>
      <td><p>character ending date for data retrieval in the form YYYY-MM-DD. Default is "" which indicates
retrieval for the latest possible record.</p></td>
    </tr>
    <tr>
      <th>service</th>
      <td><p>string USGS service to call. Possible values are "dv" (daily values), "uv" (unit/instantaneous values), 
"qw" (water quality data), "gwlevels" (groundwater),and "rating" (rating curve), "peak", "meas" (discrete streamflow measurements),
"stat" (statistics web service BETA).</p></td>
    </tr>
    <tr>
      <th>statCd</th>
      <td><p>string or vector USGS statistic code only used for daily value service. This is usually 5 digits.  Daily mean (00003) is the default.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>string, can be "tsv" or "xml", and is only applicable for daily and unit value requests.  "tsv" returns results faster, but there is a possiblitiy that an incomplete file is returned without warning. XML is slower, 
but will offer a warning if the file was incomplete (for example, if there was a momentary problem with the internet connection). It is possible to safely use the "tsv" option, 
but the user must carefully check the results to see if the data returns matches what is expected. The default is therefore "xml".</p></td>
    </tr>
    <tr>
      <th>expanded</th>
      <td><p>logical defaults to <code>TRUE</code>. If <code>TRUE</code>, retrieves additional information, only applicable for qw data.</p></td>
    </tr>
    <tr>
      <th>ratingType</th>
      <td><p>can be "base", "corr", or "exsa". Only applies to rating curve data.</p></td>
    </tr>
    <tr>
      <th>statReportType</th>
      <td><p>character Only used for statistics service requests.  Time division for statistics: daily, monthly, or annual.  Default is daily.
Note that daily provides statistics for each calendar day over the specified range of water years, i.e. no more than 366
data points will be returned for each site/parameter.  Use readNWISdata or readNWISdv for daily averages. 
Also note that 'annual' returns statistics for the calendar year.  Use readNWISdata for water years. Monthly and yearly 
provide statistics for each month and year within the range individually.</p></td>
    </tr>
    <tr>
      <th>statType</th>
      <td><p>character Only used for statistics service requests. Type(s) of statistics to output for daily values.  Default is mean, which is the only
option for monthly and yearly report types. See the statistics service documentation 
at <a href='https://waterservices.usgs.gov/rest/Statistics-Service.html'>https://waterservices.usgs.gov/rest/Statistics-Service.html</a> for a full list of codes.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>url string</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>site_id</span> <span class='kw'>&lt;-</span> <span class='st'>'01594440'</span>
<span class='no'>startDate</span> <span class='kw'>&lt;-</span> <span class='st'>'1985-01-01'</span>
<span class='no'>endDate</span> <span class='kw'>&lt;-</span> <span class='st'>''</span>
<span class='no'>pCode</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"00060"</span>,<span class='st'>"00010"</span>)
<span class='no'>url_daily</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>,<span class='no'>pCode</span>,
           <span class='no'>startDate</span>,<span class='no'>endDate</span>,<span class='st'>'dv'</span>,<span class='kw'>statCd</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"00003"</span>,<span class='st'>"00001"</span>))
<span class='no'>url_unit</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>,<span class='no'>pCode</span>,<span class='st'>"2012-06-28"</span>,<span class='st'>"2012-06-30"</span>,<span class='st'>'iv'</span>)

<span class='no'>url_qw_single</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>,<span class='st'>"01075"</span>,<span class='no'>startDate</span>,<span class='no'>endDate</span>,<span class='st'>'qw'</span>)
<span class='no'>url_qw</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>,<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>'01075'</span>,<span class='st'>'00029'</span>,<span class='st'>'00453'</span>),
           <span class='no'>startDate</span>,<span class='no'>endDate</span>,<span class='st'>'qw'</span>)
<span class='no'>url_daily_tsv</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>,<span class='no'>pCode</span>,<span class='no'>startDate</span>,<span class='no'>endDate</span>,<span class='st'>'dv'</span>,
           <span class='kw'>statCd</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"00003"</span>,<span class='st'>"00001"</span>),<span class='kw'>format</span><span class='kw'>=</span><span class='st'>"tsv"</span>)
<span class='no'>url_rating</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>,<span class='kw'>service</span><span class='kw'>=</span><span class='st'>"rating"</span>,<span class='kw'>ratingType</span><span class='kw'>=</span><span class='st'>"base"</span>)
<span class='no'>url_peak</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>, <span class='kw'>service</span><span class='kw'>=</span><span class='st'>"peak"</span>)
<span class='no'>url_meas</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='no'>site_id</span>, <span class='kw'>service</span><span class='kw'>=</span><span class='st'>"meas"</span>)
<span class='no'>urlQW</span> <span class='kw'>&lt;-</span> <span class='fu'>constructNWISURL</span>(<span class='st'>"450456092225801"</span>,<span class='st'>"70300"</span>,<span class='kw'>startDate</span><span class='kw'>=</span><span class='st'>""</span>,<span class='kw'>endDate</span><span class='kw'>=</span><span class='st'>""</span>,<span class='st'>"qw"</span>,<span class='kw'>expanded</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Laura DeCicco, Robert Hirsch, David Lorenz, David Watkins.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

